#####  Created by:StarFleet R&D 2010.02.13
#####  Bridge Commander Universal Tool


import App
import Foundation
import traceback


abbrev = "Legionary"
iconName = "Legionary"
longName = "Legionary Class"
shipFile = "Legionary"
species = App.SPECIES_GALAXY
menuGroup = "Fed Ships"
playerMenuGroup = "Fed Ships"

try:
	import Custom.Autoload.RaceFutureFed34c
	Foundation.ShipDef.Legionary = Foundation.FutureFed34cShipDef(abbrev, species, { 'name': longName, 'iconName': iconName, 'shipFile': shipFile})
except:
	print "Error while loading a race"
	Foundation.ShipDef.Legionary = Foundation.ShipDef(abbrev, species, { 'name': longName, 'iconName': iconName, 'shipFile': shipFile})
	traceback.print_exc()


Foundation.ShipDef.Legionary.desc = "LORE:\nThe Legionary class starship was created in 3317 as part of the ongoing war with an unknown group of interdimensional beings known only by the name Ti'dris-la'faer (Tih-drees-lah-pheye-ere though often shortened to just Ti'dris by the Federation). No one has ever seen one of these creatures, and you rarely ever saw their ships either. This race was from another universe, and were the master of utilizing dimensional laws as weapons against their adversaries; Their goal was the enslavement of universes across different plains, so they would travel from universe to universe, conquering anything they could. For the Federation, their ships began going missing around 3207, though it was not known what was happening to them, so while suspicions were high, no action was taken as of yet.\n\nIt wasn't until 3226 that the first full scale invasion began; Swarms of shifting ships began to pour into our universe, destroying federation and other species vessels alike in seconds. It turned out that this race was stealing ships from within the universe and dissecting them in both standard dimensions and higher dimensions to find out how they run and their every weakness. They came prepared, they came for conquest, and they were nigh-unstoppable. Their ships were undetectable, cloaked in the very fabric of altered spacetime itself not even allowing the most advanced sensors to detect anything other than a small differential in the dimensional displacement.\n\nOnce the Federation had successfully put all their worlds and ships into hiding in subdimensional manifolds circa 3229, they began the Arcane Vanguard project. Their aim was to create a ship that could match the potential of the Ti'dris-la'faer vessels using technology they already had. They had been reading the weapons signature that the interdimensional vessels outputted and believed to have matched their Reflux technology to said frequency by 3255. Thus the Legionary was completed, using partial dimensional reflux technology to try to absorb and breach the defenses of the invaders. With that, they sent out the first prototype of a 33rd century Reflux powered vessel in the form of the Legionary prototype. As soon as the ship was detected, several of the invading ships which now spanned most of the universe (few and far between, but still there nonetheless) began to track and follow the prototype. The new sensors equipped on it could very slightly detect their ship's dimensional fluctuation waves. The prototype pretended not to see them, letting the ships tail it so they could attempt to get a close range attack off while the Ti'dris believed that tailing them would lead to the Federations hidden worlds and allow them to finish them off forever, leaving their universe to them. Once they got close enough, the prototype unleashed its attacks of reflux multi-zerollic point discharge arrays, Type XVIII reflux quantums and omniphase reflux catalysts. At first they seemed to be having some sort of effect, but to the dismay of the Federation, even three Ti'dris vessels provided enough firepower to overpower the prototype. It was left a burning and crippled wreckage in space in almost no time at all and with such ease by the Ti'dris.\n\nAll hope seemed lost for the Federation, there was only so much more time they could hide before the Ti'dris cracked the manifold code that the Federation (Mostly 10C's work) and their allies had put into place to protect them from the Ti'dris. Species 10C had some knowledge in the field of dimensional engineering and manipulation so for that moment they had a bit of even ground in terms of hiding. What they did lack was knowledge in weaponry and defenses of the dimensional nature, of which the Ti'dris did know and used extremely effectively.\n\nWhen the Federation was on the brink of surrender in 3264, they noticed something, a signal that branded a call to the Federation, a signal that gave them hope; Something that had been missing for many decades. They sent an automated stealth scout ship to intercept this signal and what they saw baffled them... In the midst of a crossfire was a small probe, one that almost looked metallic, but also holographic at the same time. Its surface rippled like a transparent ocean, but instead of showing the universe behind it, it shown into a swirling mix of colors. Rotating around it changed how the supposed inside looked and caused it to shift as if shining through the universe itself. What was more impressive was that this singular small object was fending off 5 Ti'dris vessels, blasting through their external outer dimensional cloakshielding with pink, blue and red weaponry and giving the federation their first true look at a Ti'dris vessel. They were long thin ships, rounded out and extremely sleek with winglike components that were both attached and dethatched to the hull and later determined to help with the formation of the dimensional field.\n\nOnce all 5 ships were either disabled or destroyed, the Federation scout approached and was hit with a wave of information which overloaded the processors of the scout easily; It was left adrift, its computer system completely dead from the sheer amount of information. Meanwhile, across the quadrants, a cloaked 10C vessel was finally retrieving the wreckage of the old prototype Legionary class that had been in testing so many years ago and now, they took this opportunity when the Ti'dris ships were occupied investigating the probe to get it back.\n\nDecades before this in 3258, soon after the loss of the original Legionary prototype, the Federation worked with 10C on a hybrid design prototype that merged both of their technologies. This prototype was called the Templar class and at the time of its creation was being fitted with reflux and dimensional technology that was far superior to that of the original Legionary class testbed, therefore the Templar was going to be the candidate for the information if they could find a way to transport it. While the Ti'dris fleets were regrouping for an attack on the probe, the federation sent another 3 ships to try to absorb the data stream the probe gave them, each having a larger memory capacity than the last but alas they all failed and were left adrift by the sheer amount of data being output from the probe. To finally acquire this information, the Federation had an idea to string together the computer systems of 10 ships to create a supercomputer of the highest degree of the time; They did so and immediately sent these ships to the probes location hoping to not encounter more Ti'dris vessels. Upon arrival, there were more scattered wrecks of Ti'dris ships and once in position, the probe began transmitting its information to the tether. It still almost overloaded the tether system, but thankfully the crew were able to find workarounds to prevent the systems from going critical and finally capturing the information that was so valuable to them and their survival. With that, the probes purpose was fulfilled and it imploded, but there was no debris or destruction, it just ceased to be. Thus began the long journey home.\n\nUpon returning home the Federation and its allies rejoiced in their salvation, and with a new sense of determination, they began to start the long process of deciphering and building the schematics they had been sent in the probe...\n\nThe year was 3265, the Federation were thankful to whomever had sent them this information and by the looks of it, it would be enough to fend off the Ti'dris from their universe. They had begun, and their technology was already growing exponentially from the simplistic dimensional reflux technology they had before.\n\nIn 3273 the Federation with the help of 10C, the Federation were able to reverse engineer enough of the information from the probe to build a new defense system in the form of an Alterspace reaction field. This field was strengthened enough to defend against the weapons of the Ti'dris and gave the Federation enough confidence that they continued work on some of their old ship designs from days long past. This was mainly the Templar and the Legionary; Because the Templar was newer, it was easier to adapt the technology to, the Legionary would be adapted later.\n\nIn 3276 the Federation began adapting the alterspace fields to fit ships, resulting in vessels having a lot more protection against the Ti'Dris. This allowed for transference of crucial resources to and from Federation hideouts and keep ships protected and less vulnerable to attack. This type of Alterspace reactor would be upgraded numerous times with the ninth generation being used on the Legionary and Templar classes.\n\nIn 3288 more technology had been developed with the help of the 10C and fitted onto the Templar class while the Federation sat inside of its protective bubble, they continued to adapt and learn from the information which had come to known as the Oracle Scripts by this time. They had continued to develop weaponry and defenses from said information and were now better fending off the Ti'dris invaders.\n\nIn 3289 the Type α quantum was devised. At its core lied a dimensional crossective zerollic point matrix that not only acted as a intersective dimensional explosive, but also cloaks the projectile and prevents it from being detected until the point of impact. The interior matrix forms three counterforming existensive fields that create a supercritical dimensional state for the projectile, negating most of spacetime as a whole within it and giving it the ability to bypass and/or destroy most temporal techs easily via means of negating the ability of said tech to be able to function.\n\nIn 3297 an armor system was created to be fitted on all Federation vessels of this era. It was known as a Temporal confucation mesh and functioned by scrambling spacetime and altering laws of the universe inside of the mesh that was emitted across the hull which allows for the easy absorption of temporal and even early dimensional weapons.\n\nIn 3303 the beginning of Trandsdusive phase technologies began to be implimented in the form of phase and shield drainer torpedoes for the first step. These torpedoes work by momentarily scrambling spacetime in an area around a vessel, disabling all impulse, shields and weapons for a bit before spacetime returns back to its normal state and the technologies are able to reintegrate to their laws.\n\nIn 3305 the Trandsdusive phase technologies were modified for and fitted onto dimensional construct arrays. They are a variety of diffusion technologies first developed in the 27th century and use their enhanced transdeusive technologies to simultaneously output and drain energy via folding of 3d spacetime through dimensional construct Z particle emitters. This functions similarly to the torpedoes by constructing dimensionally symmetrical and higher tethered Z-particles that force the laws of the universe to shift slighty which allows the beams to bypass all temporal and some dimensional technologies fairly easily.\n\nIn 3307 the mastery of the Omega particle was finally complete and integrated into the weaponry of these ships. This proved to be an extremely useful weapon against the Ti'dris because of the dimensional nature of the Omega particle and its ability to re-write and tear apart spacetime as well as the newfound ability of dimensional resonance cascade. The Lance for the Templar and Legionary were created in the later months of 3307 and fitted in 3308. The lance works by creating a micro alterplane branching and broken off from our dimension, not connected at all. The ships core then feeds a stabilized stream of Omega particles into said dimension and detonates it before using the ships dimensional manipulation to intersect that micro alterplane with our reality and feeding out through an emitter on the front, expelling much raw, unparalleled and unstable dimensional energy and planear folding ito a single long burst almost like a beam, but not quite because of its nature. It was kept internalized inside of a dimensional barrier, just warped around a target, causing them to be absorbed in the dimension before the dimension fades and dies, leaving the target either disabled or destroyed in our dimension, ravaged by the intersection and internal dimensional corruption without damage to external dimensions.\n\nLastly, in 3310 the Federation and 10C completed the work to create a new type of highly volatile dimensionally based weapon. They used their knowledge taken from the Oracle Scripts to create a torpedo type with a power never before created by the human race. It took the researchers roughly 40 years to perfect this weapon from the Oracle Scripts teachings. Early prototypes were created as far back as the 3270s with said early prototypes fuctioning similarly but less effectively than the later developed Mk.α type quantum torpedo. The early prototypes were known as Dimensional Trifusion slingers and generated and launched projectiles that functioned on a tri-dimensional wave basis, resonating in three alterplanears of existence, allowing them to alter laws of our planear by introducing new one from the other alterplanes and temporarily changing the laws of ours for the weapon to bypass temporal and transcendental armor as well as defensive measures. Funnily enough, the Dimensional Trifusion launchers never actually went out of date and were instead made more efficient and compact to be fitted as a defensive measure to shuttlecraft and cargo vessels as a lighter and less energy taxing weapons system. This concept was expanded on in project Final Phoenix (started in 3291) into what we now call the Hyperfusion torpedoes, with them being able to easily punch through materials such as Neutronium and transcendental protection. From what was tested in the third dimensional state, a single Hyperfusion torpedo charged to full capacity can almost completely disperse a neutron star and cause it to go supernova; It is actually far more powerful due to the simple fact that it relies on several dimensional alterplane tetherings allowing for it to reach into objects both temporally and transcendentally and damage them that way if needed. The function of the torpedo relies on an inner dimensional state and the tethers to subuniverses or alterplanes. It overlaps all of same position on the planears and subuniverses into a bubble of incoherent laws of existence, physics and time that acts like a repulsion force for standard dimensional structure. This in turn creates a pocket of brief nothingness within the targeted position before spacetime attempts to correct itself leading to an outward force of energy seen to us in the third dimension as a multicolored and extremely powerful explosion. This torpedo is not always a one-shot kill however as objects that have some dimensional resistances (via transcendental technologies, hyperdense Euclidian materials or external-universal technology) can escape complete destruction, or even leave unscathed if their inexistence technology is great enough. The Hyperfusion Torpedoes do have a downside however, they take up to or more than a day to charge. The casings are extremely hard to construct due to the transcendental and trans-universal nature of their technology, and even so the power required has to be constantly syphoned off the main Alterspace Reactor. The Legionary and Templar classes can hold up to 10 casings at a time and usually are charged 2 at a time in the launchers. If it is needed though, the charge can be halved between 4 casings and they can be fired at half power for more effective weapons usage.\n\nIn 3311, after the completion of the technologies required to finish the ships, the Federation created shuttles using the technologies as a test before fitting them to the actual vessels.\n\nIn 3312, the Templar class was launched, changing how combat worked within spacetime and changing the tide of the war with the Ti'dris. The Federation finally began to drive away the Ti'dris later into 3314, which led to the final pushback from the Ti'dris and seeing a more open occupation of the universe by them. This required the Federation to start producing a large number of ships to combat the influx of Ti'dris warships, including refitting, finalizing and mass producing the protype of the Legionary class that was set aside back in 3255.\n\nFinally, in 3317, the Legionary class fleets were launched and worked alongside the Templar and other classes to drive the Ti'dris out of the universe.\n\nBy 3327, the Ti'dris were finally pushed out of the universe and the Federation were at peace once again. The day became a holiday among the federation, and not long after the defeat of the Ti'dris, the Federation started putting together a parallel faction specially designed for dimensional development in case another invader happened to appear, that way the main Federation could focus on the in-universe and their civilizations instead of spending all their resources on having ways to create plans of action that may or may not happen. This faction, known as the Union of the Clandestine, would stay as a crutial partner to the Federation well into the 40th century and beyond.\n\n\nSTATS:\n\nLEGIONARY:\n\nTriquantallic Biocrystalline Hull: 355000\n\nTemporal Confucation Mesh Armor:\nFore Hull: 272500\nAft Hull: 272500\nTail 1: 155000\nTail 2: 155000\nPort Ring: 215000\nStar Ring: 215000\nTop Ring: 240000\nBottom Ring: 240000\n\nAlterspace Negation Shielding Stats:\nForward: 375000, 1000 Regen\nAft: 375000, 1000 regen\nPort: 375000, 1000 regen\nStar: 375000, 1000 regen\nDorsal: 375000, 1000 regen\nVentral: 375000, 1000 regen\n(+MV Shields 25)\n\nHeavy Phaser damage: 57500\n\nLance Damage: 135000\n\nTorpedo loadout:\nQuantum Mk.A: 3300\nTrandsdusiphasic: 75\nHyperfusion: 2"
Foundation.ShipDef.Legionary.fMaxWarp = 13.0
Foundation.ShipDef.Legionary.fCruiseWarp = 12.0
Foundation.ShipDef.Legionary.SubMenu = "34th Century"
Foundation.ShipDef.Legionary.SubSubMenu = "Legionary Class"
Foundation.ShipDef.Legionary.OverrideWarpFXColor = Foundation.ShipDef.Legionary.OverrideWarpFXColor
Foundation.ShipDef.Legionary.OverridePlasmaFXColor = Foundation.ShipDef.Legionary.OverridePlasmaFXColor
Foundation.ShipDef.Legionary.CloakingSFX   = "SubmaterialismCloak"
Foundation.ShipDef.Legionary.DeCloakingSFX = "SubmaterialismDecloak"
Foundation.ShipDef.Legionary.dTechs = {
	'Breen Drainer Immune': 1,
	'Drainer Immune': 1,
    'Fed Ablative Armor': { "Plates": ["Temporal Confucation Mesh Armor Fore", 
									   "Temporal Confucation Mesh Armor Aft", 
									   "Temporal Confucation Mesh Armor Tail 1", 
									   "Temporal Confucation Mesh Armor Tail 2",
									   "Temporal Confucation Mesh Armor Ring Port", 
									   "Temporal Confucation Mesh Armor Ring Star", 
									   "Temporal Confucation Mesh Armor Ring Top", 
									   "Temporal Confucation Mesh Armor Ring Bottom"]},
    "AutoTargeting": {"Phaser": [8, 3]},
	'ChronitonTorpe Immune': 1,
	'Phased Torpedo Immune': 1,
	'Phase Cloak': 0,
	'Automated Destroyed System Repair': {"Time": 40.0, "DoNotInterfere": 1},
	'Reflux Weapon Immune': 1,
	'Multivectral Shields' : 25,
	"Digitizer Torpedo Immune": 1,
	'TimeVortex Torpedo Immune': 1,
	'Defensive AOE Siphoon' : { "Resistance": 5.0},
	"SG Plasma Weapon Immune": 1,
	"SGReplicator Attack Resistance": 50,
	"SG Ori Beams Weapon Immune": 1,
	"SG Ion Weapon Immune": 1,
	"SG Asgard Beams Weapon Immune": 1,
	"GraviticLance": { "Immune": 1},
	"Tachyon Sensors":  1.0,
	"Inversion Beam": [1.0, 0.0, 0.0, 0.0],
	"Power Drain Beam": [1.0, 0.0, 0.0, 0.0],
	"Transphasic Torpedo Immune" : 1
	
}


if menuGroup:           Foundation.ShipDef.Legionary.RegisterQBShipMenu(menuGroup)
if playerMenuGroup:     Foundation.ShipDef.Legionary.RegisterQBPlayerShipMenu(playerMenuGroup)


if Foundation.shipList._keyList.has_key(longName):
      Foundation.ShipDef.__dict__[longName].friendlyDetails[2] = Foundation.shipList[longName].friendlyDetails[2]
      Foundation.ShipDef.__dict__[longName].enemyDetails[2] = Foundation.shipList[longName].enemyDetails[2]
